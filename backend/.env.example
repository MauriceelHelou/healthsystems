# HealthSystems Platform - Environment Configuration
# Copy this file to .env and fill in your values

# ====================
# LLM API Keys
# ====================

# Required: Anthropic Claude API key for mechanism discovery
# Get your key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-opus-4-5-20251101
ANTHROPIC_MAX_TOKENS=8192
ANTHROPIC_TEMPERATURE=0.7
ANTHROPIC_TIMEOUT=60

# Rate limiting
ANTHROPIC_RPM=50
ANTHROPIC_TPM=40000

# Retry settings
ANTHROPIC_MAX_RETRIES=3
ANTHROPIC_RETRY_DELAY=2

# Feature flags
ANTHROPIC_ENABLE_CACHING=true
ANTHROPIC_ENABLE_LOGGING=false

# ====================
# Literature Search APIs
# ====================

# Optional: Semantic Scholar API key (for higher rate limits)
# Register at: https://www.semanticscholar.org/product/api
SEMANTIC_SCHOLAR_API_KEY=

# Recommended: Your email for PubMed API (helps NCBI track usage)
PUBMED_EMAIL=your_email@example.com

# Optional: PubMed API key (for 10 req/sec instead of 3 req/sec)
# Register at: https://ncbiinsights.ncbi.nlm.nih.gov/2017/11/02/new-api-keys-for-the-e-utilities/
PUBMED_API_KEY=

# ====================
# Public Health Data APIs
# ====================

# U.S. Census Bureau API
# Register at: https://api.census.gov/data/key_signup.html
# Provides demographic, economic, housing, and social determinant data
CENSUS_API_KEY=b65604fd7d0ed35af2b201eba907348c10c3f6d8

# CDC WONDER API (no key required)
# Access to mortality, natality, and other vital statistics data
# Endpoint: https://wonder.cdc.gov/controller/datarequest/
# Rate limit: 1 request per 2 minutes recommended
CDC_WONDER_ENABLED=true
CDC_WONDER_RATE_LIMIT_SECONDS=120

# CDC Data API (for non-WONDER datasets)
# Register at: https://data.cdc.gov/profile/edit/developer_settings
CDC_API_KEY=

# EPA Air Quality System (AQS) API
# Register at: https://aqs.epa.gov/aqsweb/documents/data_api.html
# Provides air quality and environmental exposure data
EPA_AQS_EMAIL=your_email@example.com
EPA_AQS_KEY=

# Bureau of Labor Statistics (BLS) API
# Register at: https://data.bls.gov/registrationEngine/
# Provides employment, wage, and economic indicator data
BLS_API_KEY=

# CMS (Centers for Medicare & Medicaid Services) Data API
# Access healthcare utilization, quality, and cost data
# Register at: https://data.cms.gov/
CMS_API_KEY=

# HRSA (Health Resources and Services Administration) Data Warehouse
# Access health workforce, HPSA, MUA/P, and facility data
# Register at: https://data.hrsa.gov/tools/apis
HRSA_API_KEY=

# SAMHSA (Substance Abuse and Mental Health Services Administration)
# Access behavioral health services data
SAMHSA_API_KEY=

# HUD (Housing and Urban Development) API
# Access housing assistance and fair housing data
HUD_API_KEY=

# USDA Food Environment Atlas API
# Access food access, assistance, and health data
USDA_API_KEY=

# ====================
# Database Configuration
# ====================

# PostgreSQL connection
DATABASE_URL=postgresql://user:password@localhost:5432/healthsystems
DATABASE_TEST_URL=postgresql://user:password@localhost:5432/healthsystems_test
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# ====================
# Redis Configuration
# ====================

REDIS_URL=redis://localhost:6379/0

# ====================
# Application Settings
# ====================

# Environment: development, staging, production
ENVIRONMENT=development

# API settings
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_WORKERS=1
API_DEBUG=false

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# Security
SECRET_KEY=your_secret_key_here_change_in_production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60

# ====================
# Logging
# ====================

LOG_LEVEL=INFO
ENABLE_REQUEST_LOGGING=true
SENTRY_DSN=

# ====================
# Mechanism Bank Settings
# ====================

# Path to mechanism bank directory
MECHANISM_BANK_PATH=../mechanism-bank/mechanisms

# MVP extraction settings
MVP_EXTRACTION_MAX_TOKENS=4000
MVP_EXTRACTION_MODEL=claude-opus-4-5-20251101

# Quality thresholds
MIN_EVIDENCE_QUALITY=C  # A, B, or C
MIN_CONFIDENCE=medium   # high, medium, or low
ENABLE_STRUCTURAL_COMPETENCY_CHECK=true
